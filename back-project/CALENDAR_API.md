# Calendar API Endpoints

–ù–æ–≤—ã–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ API endpoints –¥–ª—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π.

## üìÖ **–ù–æ–≤—ã–µ Endpoints**

### 1. –í—Å–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```http
GET /records/all-user-pets
```
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–ø–∏—Å–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –¥–ª—è –≤—Å–µ—Ö –ø–∏—Ç–æ–º—Ü–µ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**Query Parameters**:
- `category` (optional): `FEEDING`, `HEALTH`, `ACTIVITY`
- `skip` (optional): –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –¥–ª—è –ø—Ä–æ–ø—É—Å–∫–∞ (default: 0)
- `limit` (optional): –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π (default: 1000)

**–ü—Ä–∏–º–µ—Ä**:
```bash
GET /records/all-user-pets?category=FEEDING&limit=500
```

### 2. –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –¥–∞—Ç–µ
```http
GET /records/by-date
```
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –∑–∞–ø–∏—Å–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –¥–∞—Ç—É –¥–ª—è –≤—Å–µ—Ö –ø–∏—Ç–æ–º—Ü–µ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**Query Parameters**:
- `date` (required): –¥–∞—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ YYYY-MM-DD
- `category` (optional): `FEEDING`, `HEALTH`, `ACTIVITY`

**–ü—Ä–∏–º–µ—Ä**:
```bash
GET /records/by-date?date=2024-01-15&category=HEALTH
```

### 3. –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ –¥–∏–∞–ø–∞–∑–æ–Ω—É –¥–∞—Ç
```http
GET /records/by-date-range
```
**–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–æ–ª—É—á–∏—Ç—å –∑–∞–ø–∏—Å–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ –¥–∞—Ç –¥–ª—è –≤—Å–µ—Ö –ø–∏—Ç–æ–º—Ü–µ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**Query Parameters**:
- `start_date` (required): –Ω–∞—á–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ YYYY-MM-DD
- `end_date` (required): –∫–æ–Ω–µ—á–Ω–∞—è –¥–∞—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ YYYY-MM-DD
- `category` (optional): `FEEDING`, `HEALTH`, `ACTIVITY`
- `skip` (optional): –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –¥–ª—è –ø—Ä–æ–ø—É—Å–∫–∞ (default: 0)
- `limit` (optional): –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π (default: 1000)

**–ü—Ä–∏–º–µ—Ä**:
```bash
GET /records/by-date-range?start_date=2024-01-01&end_date=2024-01-31
```

## üöÄ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- –ó–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–∏—Ç–æ–º—Ü–∞ –æ—Ç–¥–µ–ª—å–Ω–æ (N –∑–∞–ø—Ä–æ—Å–æ–≤)
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
- –ò–∑–±—ã—Ç–æ—á–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö

### –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:
- –û–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –¥–ª—è –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –°–µ—Ä–≤–µ—Ä–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –¥–∞—Ç–µ
- –¢–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ SQL –∑–∞–ø—Ä–æ—Å—ã —Å JOIN

## üì± **Frontend –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**

### API Service –º–µ—Ç–æ–¥—ã:
```typescript
// –í—Å–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
await apiService.getAllUserActivityRecords(category?, skip?, limit?)

// –ü–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –¥–∞—Ç–µ
await apiService.getActivityRecordsByDate('2024-01-15', category?)

// –ü–æ –¥–∏–∞–ø–∞–∑–æ–Ω—É –¥–∞—Ç  
await apiService.getActivityRecordsByDateRange('2024-01-01', '2024-01-31', category?, skip?, limit?)
```

### Calendar Screen –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:
- –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ: –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ç–µ–∫—É—â–∏–π –º–µ—Å—è—Ü
- –ü—Ä–∏ —Å–º–µ–Ω–µ –¥–∞—Ç—ã: –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –¥–∞—Ç—ã
- –ü—Ä–∏ —Å–º–µ–Ω–µ –º–µ—Å—è—Ü–∞: –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –Ω–æ–≤–æ–≥–æ –º–µ—Å—è—Ü–∞
- Fallback –Ω–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫—É—é —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—é –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö API

## üîí **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**

–í—Å–µ endpoints:
- ‚úÖ –¢—Ä–µ–±—É—é—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è—é—Ç –≤–ª–∞–¥–µ–ª—å—Ü–∞ –ø–∏—Ç–æ–º—Ü–µ–≤ —á–µ—Ä–µ–∑ JOIN
- ‚úÖ –§–∏–ª—å—Ç—Ä—É—é—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ —Ç–µ–∫—É—â–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
- ‚úÖ –í–∞–ª–∏–¥–∏—Ä—É—é—Ç –≤—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

## üìä **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**

### –î–ª—è –∫–∞–ª–µ–Ω–¥–∞—Ä—è –Ω–∞ –º–µ—Å—è—Ü:
- **–°—Ç–∞—Ä—ã–π –ø–æ–¥—Ö–æ–¥**: ~30 –∑–∞–ø—Ä–æ—Å–æ–≤ (–¥–ª—è 3 –ø–∏—Ç–æ–º—Ü–µ–≤ √ó 10 –¥–Ω–µ–π —Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—è–º–∏)
- **–ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥**: 2 –∑–∞–ø—Ä–æ—Å–∞ (–º–µ—Å—è—Ü + –≤—ã–±—Ä–∞–Ω–Ω–∞—è –¥–∞—Ç–∞)
- **–£–ª—É—á—à–µ–Ω–∏–µ**: ~93% –º–µ–Ω—å—à–µ –∑–∞–ø—Ä–æ—Å–æ–≤

### –†–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö:
- **–°—Ç–∞—Ä—ã–π –ø–æ–¥—Ö–æ–¥**: –≤—Å–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∑–∞ –≤—Å–µ –≤—Ä–µ–º—è
- **–ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥**: —Ç–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ –∑–∞ –º–µ—Å—è—Ü/–¥–∞—Ç—É
- **–£–ª—É—á—à–µ–Ω–∏–µ**: ~80-95% –º–µ–Ω—å—à–µ —Ç—Ä–∞—Ñ–∏–∫–∞ 